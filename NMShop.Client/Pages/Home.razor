@using NMShop.Client.Components
@using NMShop.Shared.Models
@inject HttpClient Http

@page "/"

<PageTitle>Home</PageTitle>

<MudCarousel Class="mud-width-full" Style="aspect-ratio: 4375 / 1100;" ShowArrows=true ShowBullets=true EnableSwipeGesture=true AutoCycle=true TData="object">
    <MudCarouselItem Transition=@Transition.Slide Color="@Color.Primary">
        <MudImage Src="/banners/YandexSplit.png" Style="width:100%; height:auto; aspect-ratio: 4375 / 1100;" ObjectFit="ObjectFit.Cover" />
    </MudCarouselItem>
    <MudCarouselItem Transition=@Transition.Slide Color="@Color.Primary">
        <MudImage Src="/banners/CDEK.png" Style="width:100%; height:auto; aspect-ratio: 4375 / 1100;" ObjectFit="ObjectFit.Cover" />
    </MudCarouselItem>
</MudCarousel>

<BrandGallery />

<CategoryPreview CategoryType="ProductType.Shoe" Products="ShoesPreview" />

<CategoryPreview CategoryType="ProductType.Clothing" Products="ClothesPreview" />

<CategoryPreview CategoryType="ProductType.Accessory" Products="AccessoriesPreview" />

<MudPaper Width="100%" Class="d-flex flex-column align-center py-20 mt-10" Style="border-radius: 20px; background: linear-gradient(0deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.1)), linear-gradient(82.03deg, #DCE7D7 17.85%, #C5C390 33.14%, #C4944D 41.79%, #D9558E 49.88%, #36376F 57.42%, #008B87 66.4%, #4D295A 81.36%);">
    <MudImage Src="/icons/logo.svg" Width="120" Height="120" />

    <MudText Align="Align.Center" Typo="Typo.h4" Class="mt-5" Style="color: white; text-transform: uppercase;">
        в каталоге нет интересующей модели?<br />
        вы всегда можете оформить<br />
        индивидуальный заказ
    </MudText>

    <MudButton DropShadow="true" Variant="Variant.Filled" Style="background-color: white;" Class="mt-5">
        <MudText Typo="Typo.h5" Style="font-weight: 700; text-transform: uppercase;">оформить индивидуальный заказ</MudText>
    </MudButton>

    <MudButton Class="mt-5">
        <MudIcon Style="color: white;" Icon="@Icons.Material.Outlined.Info" Size="Size.Large" />
        <MudText Class="ml-4" Style="color: white; text-transform: uppercase;" Typo="Typo.h5">как это работает?</MudText>
    </MudButton>


</MudPaper>

@code {
    private IEnumerable<Product> ShoesPreview = new List<Product>();
    private IEnumerable<Product> ClothesPreview = new List<Product>();
    private IEnumerable<Product> AccessoriesPreview = new List<Product>();

    protected override async Task OnInitializedAsync()
    {
        // Запрос данных с сервера
        ShoesPreview = await Http.GetFromJsonAsync<IEnumerable<Product>>("https://localhost:7279/api/products/shoes");
        ClothesPreview = await Http.GetFromJsonAsync<IEnumerable<Product>>("https://localhost:7279/api/products/clothes");
        AccessoriesPreview = await Http.GetFromJsonAsync<IEnumerable<Product>>("https://localhost:7279/api/products/accessories");
    }
}
