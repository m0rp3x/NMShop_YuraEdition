@using NMShop.Shared.Models
@using NMShop.Client.Services

@inject ClientDataProvider DataProvider
@inject NavigationManager Navigation

<MudContainer MaxWidth="MaxWidth.ExtraExtraLarge" Class="mt-10">

    <MudStack Row="true">
        <MudText Align="Align.Left" Typo="Typo.h4" Style="font-weight: 800; text-transform: uppercase;">
            @CategoryType
        </MudText>

        <MudSpacer/>

        <MudButton OnClick="() => Navigation.NavigateTo(GetPath())">
            <MudText Typo="Typo.h5">Каталог</MudText>
            <MudIcon Icon="@Icons.Material.Filled.ArrowOutward" Size="Size.Medium"/>
        </MudButton>
    </MudStack>

    <ProductGrid Filter="new() { Category = CategoryType, Take=4 }" />
    

</MudContainer>

@code {
    [Parameter]
    public string CategoryType { get; set; }

    string GetPath() => "/catalog/" + new ProductFilter() { Category = CategoryType }.ToQueryString();
}
