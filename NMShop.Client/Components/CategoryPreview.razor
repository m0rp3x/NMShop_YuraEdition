@using NMShop.Shared.Models

@using NMShop.Client.Data

@inject TestDataProvider DataProvider

<MudContainer MaxWidth="MaxWidth.ExtraExtraLarge" Class="mt-10">

    <MudStack Row="true">
        <MudText Align="Align.Left" Typo="Typo.h4" Style="font-weight: 800; text-transform: uppercase;">
            @CategoryType.Localize()
        </MudText>

        <MudSpacer/>

        <MudButton>
            <MudText Typo="Typo.h5">Каталог</MudText>
            <MudIcon Icon="@Icons.Material.Filled.ArrowOutward" Size="Size.Medium"/>
        </MudButton>
    </MudStack>

    <ProductGrid Products="Products" Take="4"/>
    

</MudContainer>

@code {
    [Parameter]
    public string CategoryType { get; set; }

    private IEnumerable<Product> Products = new List<Product>();

    protected override async Task OnInitializedAsync()
    {
        switch (CategoryType)
        {
            case "shoes":
                Products = await DataProvider.GetShoes();
                break;
            case "clothes":
                Products = await DataProvider.GetClothes();
                break;
            case "accessories":
                Products = await DataProvider.GetAccessories();
                break;
        }
    }

}
